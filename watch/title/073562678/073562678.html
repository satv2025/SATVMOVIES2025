<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Asesinato Para Principiantes</title>

    <!-- CSS Plyr oficial -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/plyr@3.7.8/dist/plyr.css" />
    <!-- CSS personalizado Plyr versión -->
    <link rel="stylesheet" href="https://movies.solargentinotv.com.ar/assets/css/MPlayer/MPlayerPlyrVersion.css" />
    <link rel="stylesheet" href="https://movies.solargentinotv.com.ar/assets/css/indpags/b1_s1_ip1.css" />
    <link rel="stylesheet" href="https://movies.solargentinotv.com.ar/assets/css/indpags/dropdown.css" />
    <link rel="stylesheet" href="https://movies.solargentinotv.com.ar/assets/css/slidebar.css" />
    <link rel="stylesheet" href="https://fuentes.solargentinotv.com.ar/netflixsans.css" />
    <link rel="icon" href="https://movies.solargentinotv.com.ar/assets/media/images/SolArgentinoTVMOVIES.ico" type="image/x-icon" />
</head>
<body>
<header>
    <nav>
        <a class="logo" href="index" style="color: #007BFF; text-decoration: none;" onmouseover="this.style.color='#007BFF';" onmouseout="this.style.color='#007BFF';">SATVMOVIES</a>
        <ul>
            <li><a href="../../inicio">Inicio</a></li>
            <li><a href="../../proximamente">Próximamente</a></li>
            <li><a href="../../acercade">Acerca De</a></li>
        </ul>
    </nav>
</header>

<main>
    <!-- Contenedor de los datos de la serie -->
    <section class="serie-info">
        <h2>Acerca de Asesinato Para Principiantes</h2>
        <ul>
            <li><strong>Año:</strong> 2024</li>
            <li><strong>Temporadas:</strong> 1</li>
            <li><strong>Episodios:</strong> 6</li>
            <li><strong>Sinopsis:</strong> En este thriller atrapante, una estudiante investiga, para un proyecto escolar, un caso ocurrido hace cinco años.</li>
            <li><strong>Creado por:</strong> Poppy Cogan</li>
            <li><strong>Elenco:</strong> Emma Myers, Zain Iqbal, Asha Banks, Raiko Gohara, Jude Morgan-Collie, Yali Topol Margalith, Yasmin Al-Khudhairi, Henry Ashton, Carla Woodcock, Mathew Baynton, Gary Beadle, Anna Maxwell Martin</li>
            <li><strong>Guión:</strong> Poppy Cogan, Ruby Thomas, Zia Ahmed, Ajoke Ibironke</li>
            <li><strong>Géneros:</strong> Series dramáticas, De Gran Bretaña, Series basadas en libros</li>
            <li><strong>Este título es:</strong> Íntimo, Sombrío, De suspenso</li>
            <li><strong>Clasificación por edad:</strong> 16+ lenguaje inapropiado, drogas, violencia sexual | Apta para mayores de 16 años</li>
            <li><strong>ES OFICIAL:</strong> Una nueva temporada se acerca</li>
        </ul>
    </section>

    <!-- Reproductor Plyr -->
    <div id="player-container" style="margin: 0 auto; max-width: 900px;">
        <video id="player" playsinline controls crossorigin poster="https://www.mediafire.com/convkey/8ebd/67e8toxnggmojw09g.jpg" style="width: 100%; height: auto;">
            <source src="https://cdn.jsdelivr.net/gh/satv2025/media@main/videos/app/e1/Asesinato%20Para%20Principiantes%20-%20T1%20E1.m3u8" type="application/x-mpegURL" />
        </video>
    </div>

    <div class="season-dropdown">
        <button class="dropdown-button open">Temporada 1</button>
        <div class="dropdown-content" style="display: block;">
            <button class="texto" onclick="changeSeason(1)">
                <span class="textotemp">Temporada 1</span>
                <span class="episode-count">(6 episodios)</span>
            </button>
            <button class="texto texto2" onclick="changeSeason(2)">
                <span class="textotemp">Temporada 2</span>
                <span class="episode-count">(1 episodio)</span>
            </button>
        </div>
    </div>

    <div class="episodios">
        <h2>Lista de Episodios</h2>
        <ul id="episode-list">
            <!-- Episodios cargados dinámicamente -->
        </ul>
    </div>
</main>

<footer>
    <p>&copy; 2025 Sol Argentino TV. Todos los derechos reservados.</p>
</footer>

<!-- Scripts -->
<script src="https://movies.solargentinotv.com.ar/watch/title/073562678/dropdown.js"></script>
<script src="https://movies.solargentinotv.com.ar/assets/MPlayer/MPlayerPlyrVersion.js" type="text/javascript"></script>

<!-- hls.js para soporte HLS en navegadores -->
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<!-- Plyr.js -->
<script src="https://cdn.jsdelivr.net/npm/plyr@3.7.8/dist/plyr.min.js"></script>

<script>
    const seasons = {
        1: [
            {
                title: "Episodio 1",
                file: "https://cdn.jsdelivr.net/gh/satv2025/media@main/videos/app/e1/Asesinato%20Para%20Principiantes%20-%20T1%20E1.m3u8",
                poster: "https://www.mediafire.com/convkey/8ebd/67e8toxnggmojw09g.jpg"
            },
            {
                title: "Episodio 2",
                file: "https://cdn.jsdelivr.net/gh/satv2025/media@main/videos/app/e2/Asesinato-Para-Principiantes-T1-E2.m3u8",
                poster: "https://www.mediafire.com/convkey/88d0/o7ja6efkgc857oo9g.jpg"
            },
            {
                title: "Episodio 3",
                file: "https://cdn.jsdelivr.net/gh/satv2025/media@main/videos/app/e3/Asesinato-Para-Principiantes-T1-E3.m3u8",
                poster: "https://www.mediafire.com/convkey/6ed1/6870czca0karqn29g.jpg"
            },
            {
                title: "Episodio 4",
                file: "https://cdn.jsdelivr.net/gh/satv2025/media@main/videos/app/e4/Asesinato-Para-Principiantes-T1-E4.m3u8",
                poster: "https://www.mediafire.com/convkey/0de9/czivzlrwjyr2rlj9g.jpg"
            },
            {
                title: "Episodio 5",
                file: "https://cdn.jsdelivr.net/gh/satv2025/media@main/videos/app/e5/Asesinato-Para-Principiantes-T1-E5.m3u8",
                poster: "https://occ-0-2442-1380.1.nflxso.net/dnm/api/v6/9pS1daC2n6UGc3dUogvWIPMR_OU/AAAABeED_UJixLwFl5Ln39ljb3EY3B-_bE2aisB_eLtQVDlnZTf_vQ3hbjJseEWVQtQR3_xSoTLDsQaJqB20WoXVRq4ALdwp2VwxqDgvq9ssa8GfB9Ed925tZ5zk.jpg?r=2f5"
            },
            {
                title: "Episodio 6",
                file: "https://cdn.jsdelivr.net/gh/satv2025/media@main/videos/app/e6/Asesinato-Para-Principiantes-T1-E6.m3u8",
                poster: "https://www.mediafire.com/convkey/0869/05fmkuq6l9kj4159g.jpg"
            }
        ],
        2: [
            {
                title: "Próxima temporada",
                file: "#",
                poster: ""
            }
        ]
    };

    const video = document.getElementById('player');
    let player;

    function loadEpisode(episode) {
        if (episode.file === "#") {
            alert("Próxima temporada no disponible aún.");
            return;
        }

        // Cambiar poster
        video.setAttribute('poster', episode.poster);

        if (Hls.isSupported()) {
            if (window.hls) {
                window.hls.destroy();
            }
            window.hls = new Hls();
            window.hls.loadSource(episode.file);
            window.hls.attachMedia(video);
            window.hls.on(Hls.Events.MANIFEST_PARSED, function() {
                video.play();
            });
        } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
            video.src = episode.file;
            video.addEventListener('loadedmetadata', function() {
                video.play();
            });
        } else {
            alert("Tu navegador no soporta reproducción de este formato.");
        }
    }

    function renderEpisodeList(season) {
        const list = document.getElementById('episode-list');
        list.innerHTML = '';
        seasons[season].forEach((ep, index) => {
            const li = document.createElement('li');
            const btn = document.createElement('button');
            btn.textContent = ep.title;
            btn.style.cursor = "pointer";
            btn.onclick = () => loadEpisode(ep);
            li.appendChild(btn);
            list.appendChild(li);
        });
    }

    function changeSeason(season) {
        renderEpisodeList(season);
        // Carga el primer episodio de la temporada
        loadEpisode(seasons[season][0]);
    }

    // Inicializar Plyr solo una vez
    document.addEventListener('DOMContentLoaded', () => {
        player = new Plyr(video);
        changeSeason(1); // Cargar temporada 1 y episodio 1 al inicio
    });
</script>
</body>
</html>